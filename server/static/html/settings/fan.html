<!DOCTYPE html>
<html>
    <head>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined" rel="stylesheet">
        <link rel="stylesheet" href="../../css/main.css">
    </head>
   <body>
    <div class="flex-container">
        <div class="general__block">
            <form action="http://127.0.0.1:5000/fan/settings" method="post">
                <p class="settings__label__block settings__label__text">Fan PWM settings</p>
                <label class="general__block"  id="flex__block__column">
                    <div class="general__block">
                        <span class="settings__block general__text__settings">Alarm [%]</span>                
                        <input class="settings__block general__text__settings" type="text" name="alarm_level" id="alarm_level"/><br>
                    </div>
                    <div class="general__block">
                        <span class="settings__block general__text__settings">Normal [%]</span>                
                        <input class="settings__block general__text__settings" type="text" name="normal_level" id="normal_level"/><br>
                    </div>
                    <div class="general__block">
                        <span class="settings__block general__text__settings">Freeze [%]</span>                
                        <input class="settings__block general__text__settings" type="text" name="freeze_level" id="freeze_level"/><br>
                    </div>
                </label>
                <label class="general__block">
                    <input type="submit" class="settings__block general__text__settings alarm__btn--inactive" value="Save" />                                                     
                </label>
            </form>
        </div>
    </div>
    <script>
        fetch("http://127.0.0.1:5000/fan/settings")
        .then((response) => {return response.json();})
        .then((json) => { 
            document.getElementById("alarm_level").value =  json.alarm_level_duty_cycle;
            document.getElementById("normal_level").value =  json.normal_level_duty_cycle;
            document.getElementById("freeze_level").value =  json.freeze_level_duty_cycle;
         });
</script>
<style>
    #flex__block__column {
      flex-direction: column;
    }
  </style>
    </body>
</html>

